set terminal pngcairo size 1200, 600
set datafile separator ","
unset arrow
set view map
set tics front
set autoscale y
set autoscale x
filename = "output_file.txt"

set output "output_file_plot_1.png"
set xlabel "Length (cm)"
set ylabel "Pop. density (ions/m^3)"
set title "Population densities"
plot filename using 1:2 title 'n1 ^4I_{15/2}' with lines,\
filename using 1:3 title 'n2 ^4I_{15/2}' with lines,\
filename using 1:4 title 'n3 ^4I_{13/2}' lt rgb "black" with lines,\
filename using 1:5 title 'n4 ^4I_{9/2}' with lines,\
filename using 1:6 title 'n5 ^2F_{7/2}' with lines,\
filename using 1:7 title 'n6 ^2F_{5/2}' with lines

set yrange[0:1e23]
set output "output_file_plot_2.png"
set xlabel "Length (cm)"
set ylabel "Pop. density (ions/m^3)"
set title "Population densities"
plot filename using 1:2 title 'n1 ^4I_{15/2}' with lines,\
filename using 1:3 title 'n2 ^4I_{15/2}' with lines,\
filename using 1:4 title 'n3 ^4I_{13/2}' lt rgb "black" with lines,\
filename using 1:5 title 'n4 ^4I_{9/2}' with lines,\
filename using 1:6 title 'n5 ^2F_{7/2}' with lines,\
filename using 1:7 title 'n6 ^2F_{5/2}' with lines

set autoscale y
set output "output_file_plot_3.png"
set title "Signal at 1533 nm"
set xlabel "Length (cm)"
set ylabel "Power (dBm)"
plot filename using 1:8 title 'Signal' with lines

set output "output_file_plot_4.png"
set title "Signal gain at 1533 nm"
set xlabel "Length (cm)"
set ylabel "Gain (dB)"
plot filename using 1:9 title 'Signal' with lines

set output "output_file_plot_5.png"
set title "Forward and backwards pump change at 976 nm"
set xlabel "Length (cm)"
set ylabel "Pump power (mW)"
plot filename using 1:10 title 'Pp_f' with lines,\
filename using 1:11 title 'Pp_b' with lines

set output "output_file_plot_6.png"
set title "Forward and backward ASE at 1533 nm"
set xlabel "Length (cm)"
set ylabel "Power (dBm)"
plot filename using 1:12 title 'PASE_f' with lines,\
filename using 1:13 title 'PASE_b' with lines
